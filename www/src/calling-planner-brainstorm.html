<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="shared-styles.html">

<dom-module id="calling-planner-brainstorm">
  <template>
    <style include="shared-styles">
      :host {
        display: block;

        padding: 10px;
      }

      .my-handle {
        cursor: move;
        cursor: -webkit-grabbing;
      }
      
      sortable-js {
        background-color: red;
        min-height: 100px;
      }
    </style>

    <div id="org" class="card">
      <div class="circle">1</div>
      <h1>Bishopric</h1>
      <h2>Bishop</h2>
      <!-- <div class="sortable-ghost"> -->
        <sortable-js class="sortable-ghost" group="brainstorm" filter=".remove" ghost-class=".sortable-ghost" drag-over-bubble="true">
          
            <template is="dom-repeat" items={{bishop_items}}>
              <div><span class="handle">::</span> {{item.name}} <span class="remove">X</span></div>
            </template>
          
        </sortable-js>
        <!-- </div> -->
      
      <h2>First Counselor</h2>
        <sortable-js group="brainstorm" filter=".remove">
          <!-- <div class="name-list"> -->
            <template is="dom-repeat" items={{fc_items}}>
              <div><span class="handle">::</span> {{item.name}} <span class="remove">X</span></div>
            </template>
          <!-- </div> -->
        </sortable-js>
      <h2>Second Counselor</h2>
        <sortable-js group="brainstorm" filter=".remove">
          <!-- <div class="name-list"> -->
            <template is="dom-repeat" items={{sc_items}}>
              <div><span class="handle">::</span> {{item.name}} <span class="remove">X</span></div>
            </template>

            <div style="min-height: 50px; background-color: red;"></div>

          <!-- </div> -->
        </sortable-js>
    </div>
    
  </template>

  <script>
    Polymer({
      is: 'calling-planner-brainstorm',

      // ready: function () {

      //   // var node = this.$$('.simple-list');
      //   var elements = Polymer.dom(this.root).querySelectorAll('.simple-list');
      //   console.log(elements);

      //   elements.forEach(function (element) {
      //     Sortable.create(element, {
      //       handle: ".handle", 
      //       group: "brainstorm",
      //       filter: ".remove",
      //       onFilter: function (e) {
      //         var item = e.item,
      //         ctrl = e.target;
      //         console.log(item);
      //         console.log(ctrl);

      //         console.log("This is working");
      //         item.parentNode.removeChild(item); // remove sortable item
      //       }
      //     });
      //     console.log("Created sortable");
      //   });
      // },

      properties: {
        bishop_items: {
          type: Array,
          value: [{"name": "Bernie Sanders"}, {"name": "Donald Trump"}, {"name": "Neil Gorsuch"}],
          notify: true,
          reflectToAttribute: true
        },
        fc_items: {
          type: Array,
          value: [{"name": "Mark Zuckerberg"}, {"name": "Elon Musk"}, {"name": "John Rockefeller"}],
          notify: true,
          reflectToAttribute: true
        },
        sc_items: {
          type: Array,
          value: [{"name": "Mark Keith"}, {"name": "Gove Allen"}, {"name": "Tom Meservy"}],
          notify: true,
          reflectToAttribute: true
        }
      }

    });
  </script>
</dom-module>
